title: DSP学习之二：DSP芯片
date: 2013-12-21 14:41:33
categories: DSP
tags: [DSP芯片]
---
> 可编程DSP芯片是一种具有特殊结构的微处理器，为了达到快速进行数字信号处理的目的，DSP芯片一般都具有程序和数据分开的总线结构、流水线操作功能、单周期完成乘法的硬件乘法器以及一套适合数字信号处理的指令集。

<!--more-->

#***DSP芯片基本结构*

为了快速地实现数字信号处理运算，DSP芯片一般都采用特殊的软硬件结构。

TMS320系列DSP芯片的基本结构包括：（1）哈佛结构；（2）流水线操作；（3）专用的硬件乘法器；（4）特殊的DSP指令；（5）快速的指令周期。

##**哈佛结构**

哈佛结构是不同于传统的冯·诺曼（Von Neuman）结构的并行体系结构，其主要特点是将程序和数据存储在不同的存储空间中，即程序存储器和数据存储器是两个相互独立的存储器，每个存储器独立编址，独立访问。与两个存储器相对应的是系统中设置了`程序总线`和`数据总线`两条总线，从而使数据的吞吐率提高了一倍。而冯·诺曼结构则是将指令、数据、地址存储在同一存储器中，统一编址，依靠指令计数器提供的地址来区分是指令、数据还是地址。取指令和取数据都访问同一存储器，数据吞吐率低。

在哈佛结构中，由于程序和数据存储器在两个分开的空间中，因此取指和执行能完全重叠运行。为了进一步提高运行速度和灵活性，TMS320系列DSP芯片在基本哈佛结构的基础上作了改进，一是允许数据存放在程序存储器中，并被算术运算指令直接使用，增强了芯片的灵活性；二是指令存储在高速缓冲器（Cache）中，当执行此指令时，不需要再从存储器中读取指令，节约了一个指令周期的时间。如TMS320C30具有64个字的Cache。

##**流水线操作**

与哈佛结构相关，DSP芯片广泛采用流水线以减少指令执行时间，从而增强了处理器的处理能力。TMS320系列处理器的流水线深度从2~6级不等。第一代TMS320处理器采用二级流水线，第二代采用三级流水线，而第三代则采用四级流水线。也就是说，处理器可以并行处理2~6条指令，每条指令处于流水线上的不同阶段。

##**专用的硬件乘法器**

在一般形式的FIR滤波器中，乘法是DSP的重要组成部分。对每个滤波器抽头，必须做一次乘法和一次加法。乘法速度越快，DSP处理器的性能就越高。在通用的微处理器中，乘法指令是由一系列加法来实现的，故需许多个指令周期来完成。相比而言，DSP芯片的特征就是有一个专用的硬件乘法器。在TMS320系列中，由于具有专用的硬件乘法器，乘法可在一个指令周期内完成。从最早的TMS32010实现FIR的每个抽头算法可以看出，滤波器每个抽头需要一条乘法指令MPY：

- LT；装乘数到T寄存器
- DMOV；在存储器中移动数据以实现延迟
- MPY；相乘
- APAC；将乘法结果加到ACC中

其他三条指令用来将乘数装入到乘法器电路（ LT），移动数据（DMOV）以及将乘法结果（存在乘积寄存器P中）加到ACC中（APAC）。因此，若采用256抽头的FIR滤波器，这四条指令必须重复执行256次，且256次乘法必须在一个抽样间隔内完成。在典型的通用微处理器中，每个抽头需要30 ~ 40个指令周期，而TMS32010只需4条指令。如果采用特殊的DSP指令或采用 TMS320C54X等新一代的DSP芯片，可进一步降低FIR抽头的计算时间。

##**特殊的DSP指令**

DSP芯片的另一个特征是采用特殊的指令。DMOV就是一个特殊的DSP指令，它完成数据移位功能。在数字信号处理中，延迟操作非常重要，这个延迟就是由DMOV来实现的。TMS32010中的另一个特殊指令是LTD，它在一个指令周期内完成LT、DMOV和APAC三条指令。LTD和MPY指令可以将FIR滤波器抽头计算从4条指令降为2条指令。在第二代处理器中，如TMS320C25，增加了2条更特殊的指令，即RPT和MACD指令，采用这2条特殊指令，可以进一步将每个抽头的运算指令数从2条降为1条：

RPTK 255	；重复执行下条指令256次
MACD；LT, DMOV, MPY 及 APAC

##**快速的指令周期**

哈佛结构、流水线操作、专用的硬件乘法器、特殊的DSP指令再加上集成电路的优化设计，可使DSP芯片的指令周期在200ns 以下。TMS320系列处理器的指令周期已经从第一代的200ns降低至现在的20ns 以下。快速的指令周期使得DSP芯片能够实时实现许多DSP应用。

#**TI定点DSP芯片**

自1982年TI推出第一个定点DSP芯片TMS32010以来，TI的定点DSP芯片已经经历了TMS320C1X、TMS320C2X/C2XX、TMS320C5X 、TMS320C54X、TMS320C62X等几代产品，产品的性能价格比不断提高，应用越来越广泛。下面分别介绍这些芯片的主要特征。

##**TMS320C1X**

基本特点：

第一代TMS320系列DSP芯片包括：TMS32010、TMS32011、TMS320C10、 TMS320C15/E15和TMS320C17/E17。其中，TMS32010和TMS32011采用2.4m的 NMOS 工艺，而其他几种则采用1.8m CMOS工艺。这些芯片的典型工作频率为20MHz。TMS320第一代DSP芯片的主要特点如下:

- 指令周期：160ns/200ns/280ns
- 片内RAM：144字/256字（TMS320C15/E15/C17/E17）
- 片内ROM：1.5K字/4K字（TMS320C15/C17）
- 4K字片内程序EPROM（TMS320E15/E17）
- 4K字外部全速存储器扩展
- 并行乘法器：乘积为32位
- 桶形移位器：将数据从存储器移到ALU
- 并行移位器
- 允许文本交换的4×12位堆栈
- 两个间接寻址的辅助寄存器
- 双通道串行口（TMS32011,TMS320C17/E17）
- 片内压扩硬件（TMS32011,TMS320C17/E17）
- 协处理器接口（TMS320C17/E17）
- 器件封装：40脚双列直插（DIP）/44脚塑封（PLCC）

###**TMS320C10**

TMS320 DSP芯片的第一代产品是基于TMS32010和它的CMOS版本TMS320C10的结构。TMS32010于1982年推出，是第一个能够达到 5 个MIPS的微处理器。
TMS32010采用改进的哈佛结构，即程序和数据空间相互独立。程序存储器可在片内（1.5K字）或片外（4K字）。片内数据RAM为144字。有四个基本的算术单元：算术逻辑单元（ALU）、累加器（ACC）、乘法器和移位器。

(1) ALU：32位数据操作的通用算术逻辑单元。ALU可进行加、减和逻辑运算；
(2)	ACC：累加器存储ALU的输出，也是ALU的一个输入。它采用32位字长操作，分高16位和低16位两部分。处理器提供高16位和低16位的专门指令：SACH（高16位）和SACL（低16位）；
(3) 乘法器：16×16位并行乘法器由三个单元组成：T寄存器、P寄存器和乘法器阵列。T寄存器存储被乘数，P寄存器存储32位乘积。为了使用乘法器，被乘数首先必须从数据RAM中装入到T寄存器，可用LT、LTA和LTD指令。然后执行MPY（乘）或MPYK（乘立即数）指令。乘和累加器操作可用LTA、LTD和MPY、MPYK指令在两个指令周期内完成；
(4) 移位器：有两个移位器可用于数据移位。一个是桶形移位器，另一个是并行移位器。桶形移位器又称定标移位器。当数据存储器的数据送入累加器或与累加器中的数据进行运算时，先通过这个移位器进行0~16位左移，然后再进行运算。并行移位器即输出移位器，其作用是将累加器中的数据左移0、1或4位后再送入数据存储器中，以实现小数运算或小数乘积的调整。

在TMS32010/C10基础上又派生了多个处理器，它们可提供不同的处理器速度、存储器扩展和各种I/O集成。

###**TMS320C1X的其他芯片**

TMS320C15/E15
TMS320C17/E17

##**TMS320C2X**

第二代TMS320 DSP芯片包括TMS32020、TMS320C25/E25、TMS320C26及TMS320C28。

##**TMS320C5X**

TMS320C5X是TI公司的第五代产品，是继TMS320C1X和TMS320C2X之后的第三代定点DSP处理器。它的核心中央处理器（CPU）以TMS320C25的核心CPU为基础，增强型结构大幅度地提高了整体性能。

##**TMS320C2XX**
TMS320C2XX是继TMS320C2X和TMS320C5X之后出现的一种低价格、高性能定点DSP芯片，主要包括TMS320C20X、TMS320C24X两个子系列。

特点：
(1) 处理能力强。指令周期最短为25ns，运算能力达40MIPS；
(2) 片内具有较大的闪烁存储器。TMS320C2XX是最早使用闪烁存储器的DSP芯片。闪烁存储器具有比ROM灵活、比RAM便宜的特点。TMS320F206和TMS320F207片内具有32K字的闪烁存储器和4.5K字的RAM。利用闪烁存储器存储程序，不仅降低了成本，减小了体积，同时系统升级也比较方便；
(3) 功耗低。TMS320C2XX系列DSP芯片在5V工作时每个MIPS消耗1.9mA，在3.3V工作时每个MIPS消耗1.1mA。使用DSP核的省电模式可进一步降低功耗；
(4) 资源配置灵活。现有10多种具有不同资源配置的芯片。表2.3是TMS320C2XX系列DSP芯片比较表。

此外，TMS320C24X系列芯片为数字控制系统的应用做了优化设计。

##**TMS320C54X**
TMS320C54X是为实现低功耗、高性能而专门设计的定点DSP芯片，其主要应用是无线通信系统等。

##**TMS320C62X**
这是TI公司于1997年开发的一种新型定点DSP芯片。

#**TI浮点DSP芯片**

##**TMS320C3X**
TMS320C3X是TI的第三代产品，也是第一代浮点DSP芯片。TMS320C3X中目前具有TMS320C30、TMS320C31和TMS320C32三种。

##**TMS320C4X**
TMS320C4X系列浮点处理器是专门为实现并行处理和满足其他一些实时应用的需求而设计的。其主要性能包括275 MOPS的惊人速度和320Mbyte/s的吞吐量。

##**TMS320C67X**
这是TI公司继定点DSP芯片TMS320C62X系列后开发的一种新型浮点DSP芯片。该芯片的内部结构在TMS320C62X的基础上加以改进，内部同样集成了多个功能单元，可同时执行8条指令，其运算能力可达1G FLOPS。

#**多处理器DSP芯片TMS320C8X**

该芯片内部集成了5个微处理器，处理速度达到每秒20亿次操作，与外部交换数据的速度为每秒400Mbyte，特别适合于会议电视等多媒体应用。

#**其他DSP芯片简介**


具体内容请下载文档：
链接: [http://pan.baidu.com/s/1hqn3Q2C](http://pan.baidu.com/s/1hqn3Q2C) 密码: 7j5k







