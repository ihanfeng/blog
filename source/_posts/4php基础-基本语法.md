title: 4.PHP基础-基本语法
date: 2013-12-11 13:18:50
categories: PHP5
tags: [PHP5,基础语法]
---
##**推荐在线教程：**

1.官方手册：[http://php.net/manual/zh/index.php](http://php.net/manual/zh/index.php)

2.PHP之道：[http://wulijun.github.io/php-the-right-way/](http://wulijun.github.io/php-the-right-way/)

##**PHP语法标记**

用`<?php`来表示PHP标识符的起始，然后放入PHP语句并通过加上一个终止标识符`?>`来退出PHP模式。

PHP输入嵌入式脚本语言，可以嵌入到HTML中和HTML一起使用。

当PHP解析一个文件时，会寻找开始和结束的标记，标记告诉PHP开始和停止解释其中的代码。标记之外的代码会被PHP解析器忽略。

该风格是标准风格的标记，属于XML风格，推荐使用，规范化代码格式，其他可以忽略。
<!-- more -->

##**指令分割符`;`**

PHP语句分为2种：

1.在程序中使用结构定义语句，例如流程控制、函数定义、类定义等，是用来定义结构程序使用的语句，在结构定义语句后面不能使用分号作为结束。
2.在程序中使用功能执行语句，例如变量的声明、内容的输出、函数的调用等，是用来在程序中执行某些特定功能的语句，这些语句也称为指令，需要使用分号结束。

##**程序注释**

1.多行注释：以`/*`开始和以`*/`结束,可以注释多行代码。注释无法嵌套使用。

2.单行注释：以`//`开始即可。

如下：
{%codeblock lang:php%}
<?php
	/*
	echo "这是多行注释内容";
	*/

	//这是单行注释内容
?>
{%endcodeblock%}

##**变量**

变量就是用于临时存储值得容器。PHP中最基本的数据存储单元式变量和常量，可以存储不同的类型的数据。另PHP脚本语言是一种弱类型检查的语言，变量或常量的数据类型是由程序的上下文决定。

1.声明变量

PHP特性之一：不要求在使用变量之前声明变量。

PHP中声明变量必须使用美元符号“`$`”后面跟着变量名来表示，使用赋值操作符(=)给一个变量赋值。
{%codeblock lang:php%}
<?php
	$a = 100;
	$b = "string";
	$c = true;
	$d = 99.99;

	$key1 = $a; //声明变量$key1,并将$a变量的值赋给他
?>
{%endcodeblock%}

声明的变量有一定的使用范围，即定义的上下文背景。大部分变量如果不是在函数里面声明，只有在声明处到文件结束的一个单独的范围使用。

在变量的使用范围周期内，我们可以借助`unset()`函数释放指定的变量，使用`isset()`函数检测变量释放设置和使用`empty()`函数检查一个变量是否为空。
{%codeblock lang:php%}
<?php
	$var = "0";
	if (empty($var)) {
		echo "这是空值";
	}

	if (isset($var)) {
		echo "变量已经设置";
	}

	unset($var);

	if (isset($var)) {
		echo "变量已经设置";
	}
?>
{%endcodeblock%}

	如果empty()函数的参数是非空或非零的值，则empty()返回false。

2.变量命名

变量名严格区分大小写，内置结构和关键字以及用户自定义的类名和函数名都不区分大小写。

变量名由字母或下划线开通，后面跟上任意数量的字母、数字、或则下划线。 一定不要以数字开通、中间不可以使用空格或点分开。

变量名不能使用系统定义的（关键字），这些是PHP语言组成部分，不能作为常量、函数名、类名。

变量名内容要有一定含义，让阅读者和开发者能够理解变量的意思，通常由1个或多个英文单词组成。1个单词情况下全部使用小写作为变量名。多个单词则首个单词全部小写，以后每个单词首字母采用大写风格。

3.可变变量

即一个变量的变量名可以动态地设置和使用。一个普通的变量通过声明来设置，一个可变变量获取了一个普通变量的值作为这个可变变量的变量名。
{%codeblock lang:php%}
<?php
	$hi = "hello";
	$$hi = "world";

	echo "$hi $hello";
	echo "$hi ${$hi}";
?>
{%endcodeblock%}

4.变量的引用赋值

传值赋值：当一个变量的值赋予另外一个变量时，改变其中一个变量的值，将不会影响到另外一个变量。

引用赋值：即新的变量简单引用原始变量。改变任何一个变量，其他都会影响。

使用引用赋值，简单将一个“`&`”符号加到将要赋值的变量前。
{%codeblock lang:php%}
<?php
	$foo = "原始";
	$bar = &$foo;

	echo "$foo\n";
	echo "$bar";

	$bar = "改变bar";
	echo "$foo\n";
	echo "$bar";

	$foo ="改变foo";
	echo "$foo\n";
	echo "$bar";

?>
{%endcodeblock%}


##**变量类型**

4种标量类型：boolean（布尔型）、integer（整型）、float（浮点型，也称为double）、String（字符串）

2种符合类型：Array（数组）、Object（对象）

2种特殊类型：resource（资源）、NULL

变量的类型不是由程序员设定，而是PHP根据变量使用的上下文在运行时决定。想查看某个表达式的值和类型，可以使用函数`var_dump()`。
{%codeblock lang:php%}
<?php
	$foo = "原始";
	$bool = true;
	$int = 15;

	var_dump($foo);
	var_dump($bool);
	var_dump($int);
?>
{%endcodeblock%}

输出结果：

	string '原始' (length=6)
	boolean true
	int 15

1.boolean（布尔型）

boolean表达了`TRUE`和`FALSE`,即`真`和`假`。

任何类型的值，PHP都会自动转换成布尔型的值。

以下值被认为FALSE，其他的所有值都认为TRUE。
- 布尔值FALSE
- 整型值0为假，-1和其他非零值被认为TRUE
- 浮点值0.0
- 恐怖字符串和字符串“0”
- 没有成员变量的数组
- 没有单元的对象
- 特殊类型NULL

2.integer（整型）

用于存储整数，可以使用正负号，可以使用十进制数、可以使用十六进制数、可以使用八进制数。
整型数值最大使用范围和平台有关。

3.float/double(浮点型)

即包含小数部分的数，通常用来表示整数无法表示的数据。

4.String（字符串）

- 单引号（''）
- 双引号("")
- 定界符(<<<)

5.Array（数组）

可以存放多个数据，且可以存入任何类型的数据。稍后详解

6.Object（对象）

一个对象类型的变量，是由一组属性值和一组方法构成。稍后详解

7.Resource（资源类型）

保存了到外部资源的一个引用。资源是通过专门的函数来建立和使用。使用资源类型变量保存有为打开文件、数据库连接、图形画布区域等特殊句柄。并由程序员创建、使用和释放。任何资源在不需要的时候都应该被及时释放，如果忘记释放，系统自动启用垃圾回收机制，避免内存耗尽。

8. NULL

表示一个变量没有值。NULL不表示空格，也不表示零，也不表示空字符串。不区分大小写。

9.伪类型

在一些函数中，一个参数可以接受多种类型的数据，还可以接受别的函数作为回调函数使用。

- mined
- number
- callback

##**数据类型转换**

分为自动转换和强制转换。

强制转换，在要转换的变量之前加上用括号起来的目标类型，也可以使用具体的转换函数，即intval()、flaot()和strval()等

浮点型转换为整型将自动舍弃小数部分，只保留整数部分。

##**常量**

一般用于一些数据计算中固定的数值。常量作用域是全局的，可以在脚本的任何地方声明和访问到常量。

PHP通过使用`define()`函数来定义常量，命名方式和变量类似，但是常量签名不需要加上美元符号("`$`").

	格式：boolean define(string name,mixed value[,bool case_insensitive]);

第一个参数为字符串类型的常量名，第二个参数为常量的值或表达式，第三个可选，case_insensitive设为true则常数会定义成不区分大小写。预设是区分大小写的。


常量与变量区别：

- 常量签名没有美元符号
- 常量只能用defin()函数定义，不能通过赋值语句
- 常量可以不用理会变量范围的规则而在任何地方定义和使用
- 常量一旦定义不能被重新定义或取消定义，只到脚本运行结束自动释放
- 常量值只能是标量（boolean、integer、float、string）

系统预定义常量：

- `PHP_OS`:执行PHP解析的操作系统名称
- `PHP_VERSION`:当前PHP服务器版本
- `TRUE`:
- `FALSE`:
- `NULL`:
- `DIRECTORY_SEPARATOR`:根据操作系统决定目录的分隔符
- `PATH_SEPARATOR`:根据操作系统决定环境变量的目录列表分割符
- `E_ERROR`:错误，导致PHP脚本运行终止
- `E_WARNING`:警告：不会导致PHP脚本运行终止
- `E_PARSE`:解析错误，由程序解析器报告
- `E_NOTICE`:非关键的错误
- `M_PI`：数学中的π


PHP中魔术常量：

根据使用位置而改变。

- `__FILE__`:当前的文件名》》在哪个文件中使用就代表哪个文件名称
- `__LINE__`:当前行数》》在代码的那行使用就代表哪行的行号
- `__FUNCTION__`:当前的函数名》》
- `__CLASS__`:当前的类名
- `__METHOD__`:当前对象的方法名


##**运算符**

1.算数运算符

+、-、*、/、%、++、--

2. 字符串运算符

仅有一个（“`.`”），也称为连接运算符。是个二元运算符，返回其左右参数连接后的字符串。

3.赋值运算符

=、+=、-=、*=、/=、%=、.=、

4.比较运算符

>、<、>=、<=、==、===、<>or!=

5.逻辑运算符

and或&&、or或||、not 或！、xor

6.位运算符

&、|、^、~、<<、>>

7.其他运算符

?:、``、@、=>、_>、instanceof

8.运算符优先级







